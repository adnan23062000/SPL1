(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"./src/routes/NavigationTimingReporter.tsx":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/opentracing/lib/index.js"),r=t("./node_modules/react/index.js"),a=t("./node_modules/react-redux/es/index.js"),i=t("./src/framework/reporter/performance.tsx"),u=t("./src/log/datapupLogger.ts"),s=t("./src/routes/RoutingContext.tsx"),c=t("./src/store/selectors/session.ts"),l=t("./src/util/performance.ts"),d=function(e){return Math.round(1e3*e)};n.default=function(e){var n=e.to,t=e.from,f=r.useRef(null),m=Object(i.c)(),p=Object(s.c)(),g=Object(a.f)((function(e){return e.debug.originalSpanCarrier})),v=Object(a.f)((function(e){return e.session.user.id}));return r.useEffect((function(){if(f.current||n.pathname===t.pathname){if(f.current){var e,r,a,i,s=f.current,h=Date.now();f.current=null;var w,b={to:null!==(e=null===(r=p(n.pathname))||void 0===r?void 0:r.route.name)&&void 0!==e?e:"unknown",from:null!==(a=null===(i=p(t.pathname))||void 0===i?void 0:i.route.name)&&void 0!==a?a:"unknown",loggedIn:Object(c.a)(v)},j=Object(o.globalTracer)(),x={tags:b};if(g)x.childOf=null!==(w=j.extract(o.FORMAT_HTTP_HEADERS,g))&&void 0!==w?w:void 0;j.startSpan("client.navigation",x).setBeginMicros(d(s)).setEndMicros(d(h)).finish(),m&&m.reportClientNav(b,new l.a(s,h)),u.a.log("client navigation",{duration:h-s,to:n.pathname,toRouteName:b.to,from:t.pathname,fromRouteName:b.from,loggedIn:b.loggedIn})}}else f.current=Date.now()}),[n.pathname,t.pathname]),null}}}]);
//# sourceMappingURL=reporting.2bd37c4d.chunk.js.map